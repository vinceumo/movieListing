(function(e){function t(t){for(var n,o,s=t[0],l=t[1],c=t[2],f=0,d=[];f<s.length;f++)o=s[f],i[o]&&d.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==i[l]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/movieListing/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0261":function(e,t,r){"use strict";var n=r("6f89"),i=r.n(n);i.a},"029a":function(e,t,r){},"2e2a":function(e,t,r){"use strict";var n=r("029a"),i=r.n(n);i.a},"507a":function(e,t,r){},"55fb":function(e,t,r){"use strict";var n=r("8b8b"),i=r.n(n);i.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:[e.isDarkTheme?"is-dark-theme":"","is-theme-"+e.pickedTheme],attrs:{id:"movieListingApp"}},[r("div",{staticClass:"page-wrapper"},[r("AppHeader",{attrs:{title:"Films Showing in Cinemas"}}),r("main",[r("FilterBar",{on:{ratingValChange:e.getRatingValue}}),e.hasApiCallError||0!==e.movies.length?e._e():r("LoadingSpinner"),r("transition",{attrs:{name:"fade"}},[e.hasApiCallError?r("div",[r("ErrorMessage",{attrs:{copy:"There was an error, please try again",gif:"https://media.giphy.com/media/3ohzdYJK1wAdPWVk88/giphy.gif"}})],1):e._e(),e.movies.length?r("MovieListing",{attrs:{movieList:e.movies,selectedRating:parseInt(e.selectedRating)}}):e._e()],1)],1)],1),r("AppFooter",[r("UiControls",{attrs:{themes:e.themes},on:{onChangeIsDark:e.getIsDarkValue,onChangePickedTheme:e.getPickedTheme}})],1)],1)},a=[],o=(r("a481"),r("7f7f"),r("ac4d"),r("8a81"),r("ac6a"),r("55dd"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",[r("div",{staticClass:"container"},[e._m(0),e._t("default")],2)])}),s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"links list-unstyled"},[r("li",[r("a",{attrs:{href:"https://vincent-humeau.com"}},[e._v("vincent-humeau.com")])]),r("li",[r("a",{attrs:{href:"https://github.com/vinceumo/movieListing"}},[e._v("Github")])])])}],l=(r("ae69"),r("2877")),c={},u=Object(l["a"])(c,o,s,!1,null,"757da45d",null),f=u.exports,d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"container"},[r("h1",[e._v(e._s(e.title))])])},v=[],p={props:{title:String}},h=p,m=(r("f5c5"),Object(l["a"])(h,d,v,!1,null,"830691fa",null)),g=m.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"error-msg"},[r("div",[r("h2",[e._v(e._s(e.copy))]),r("img",{staticClass:"img-fluid",attrs:{src:e.gif,alt:"sad annimated gif"}})])])},b=[],_={props:{copy:String,gif:String}},k=_,C=(r("f2e0"),Object(l["a"])(k,y,b,!1,null,"d57e74d2",null)),w=C.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"filter-bar"},[r("label",{attrs:{for:"ratingFilter"}},[e._v("Filter by ratings above: ")]),r("select",{attrs:{id:"ratingFilter"},on:{change:e.emitRatingValue}},e._l(11,function(t){return r("option",{key:t-1,domProps:{value:t-1}},[e._v("\n        "+e._s(t-1)+"\n      ")])}),0)])])},T=[],j={methods:{emitRatingValue:function(e){var t=e.target.value;this.$emit("ratingValChange",t)}}},x=j,O=(r("fdf5"),Object(l["a"])(x,A,T,!1,null,"4370ccba",null)),D=O.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"spinner"})},P=[],S=(r("55fb"),{}),M=Object(l["a"])(S,E,P,!1,null,"55b654ce",null),L=M.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("transition",{attrs:{name:"fade"}},[e.movieHasNoResults?r("div",[r("ErrorMessage",{attrs:{copy:"No results ðŸ˜¢",gif:"https://media.giphy.com/media/d2lcHJTG5Tscg/giphy.gif"}})],1):e._e()]),r("transition-group",{staticClass:"movie-listing list-unstyled",attrs:{tag:"ul",name:"fade"}},e._l(e.movieListToShow(),function(e){return r("MovieCard",{key:e.id,attrs:{title:e.title,posterUrl:e.poster_path,movieGenres:e.genres}})}),1)],1)},$=[],G=(r("c5f6"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"movie-card",class:e.posterUrl?"has-poster":""},[e.posterUrl?r("img",{attrs:{src:"https://image.tmdb.org/t/p/w200/"+e.posterUrl,alt:e.title+" poster"}}):e._e(),r("div",{staticClass:"movie-card-content"},[r("h2",[e._v(e._s(e.title))]),e.movieGenres.length?r("ul",{staticClass:"tags"},e._l(e.movieGenres,function(t,n){return r("li",{key:n},[e._v("\n        "+e._s(t)+"\n      ")])}),0):e._e()])])}),V=[],N={props:{title:String,posterUrl:String,movieGenres:Array,popularity:Number}},F=N,I=(r("0261"),Object(l["a"])(F,G,V,!1,null,"44000f31",null)),U=I.exports,B={components:{ErrorMessage:w,MovieCard:U},props:{movieList:Array,selectedRating:Number},data:function(){return{movieHasNoResults:!1}},methods:{movieListToShow:function(){if(0===this.selectedRating)return this.movieHasNoResults=!(this.movieList.length>0),this.movieList;var e=[],t=!0,r=!1,n=void 0;try{for(var i,a=this.movieList[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o.vote_average>=this.selectedRating&&e.push(o)}}catch(s){r=!0,n=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return this.movieHasNoResults=!(e.length>0),e}}},H=B,J=(r("2e2a"),Object(l["a"])(H,R,$,!1,null,"5a818f9d",null)),q=J.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("details",{staticClass:"ui-controls"},[r("summary",[e._v("UI controls")]),r("div",{staticClass:"control-group"},[r("div",[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isDark,expression:"isDark"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isDark)?e._i(e.isDark,null)>-1:e.isDark},on:{change:[function(t){var r=e.isDark,n=t.target,i=!!n.checked;if(Array.isArray(r)){var a=null,o=e._i(r,a);n.checked?o<0&&(e.isDark=r.concat([a])):o>-1&&(e.isDark=r.slice(0,o).concat(r.slice(o+1)))}else e.isDark=i},e.emitIsDarkValue]}}),e._v("\n          Dark Theme\n        ")])]),r("div",[r("label",{attrs:{for:"themePicker"}},[e._v("Themes: ")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.pickedTheme,expression:"pickedTheme"}],attrs:{id:"themePicker"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.pickedTheme=t.target.multiple?r:r[0]},e.emitPickedThemeValue]}},e._l(e.themes,function(t,n){return r("option",{key:n,domProps:{value:t}},[e._v("\n            "+e._s(t)+"\n          ")])}),0)])])])])},K=[],W={props:{themes:Array},data:function(){return{isDark:!1,pickedTheme:"Avenger"}},methods:{emitIsDarkValue:function(){var e=this.isDark;this.$emit("onChangeIsDark",e)},emitPickedThemeValue:function(){var e=this.pickedTheme;this.$emit("onChangePickedTheme",e)}}},Y=W,Q=(r("d7b0"),Object(l["a"])(Y,z,K,!1,null,"70d6dca1",null)),X=Q.exports,Z=r("bc3a"),ee=r.n(Z),te=r("be30"),re={name:"app",components:{AppFooter:f,AppHeader:g,ErrorMessage:w,FilterBar:D,LoadingSpinner:L,MovieListing:q,UiControls:X},data:function(){return{movies:[],movieGenres:{},country:"GB",selectedRating:0,hasApiCallError:!1,apiCallErrorMsg:"",isDarkTheme:!1,themes:["Avenger","Sin City","Pulp Fiction","Alien"],pickedTheme:"avenger"}},created:function(){this.getMovieGenresAndMovies()},mounted:function(){Object(te["a"])()},methods:{sortObjectBy:function(e){return function(t,r){return t[e]==r[e]?0:+(t[e]>r[e])||-1}},getRatingValue:function(e){this.selectedRating=e},getPopularMovies:function(){var e=this;ee.a.get("https://api.themoviedb.org/3/movie/now_playing?api_key=386f3833fc837a1939fab52920de1c25&page=1&region=".concat(e.country)).then(function(t){var r=t.data.results;r=r.sort(e.sortObjectBy("popularity"));var n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,c=[],u=!0,f=!1,d=void 0;try{for(var v,p=l.genre_ids[Symbol.iterator]();!(u=(v=p.next()).done);u=!0){var h=v.value;h=e.movieGenres[h],c.push(h)}}catch(m){f=!0,d=m}finally{try{u||null==p.return||p.return()}finally{if(f)throw d}}l.genres=c}}catch(m){i=!0,a=m}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}e.movies=r.reverse()}).catch(function(){e.hasApiCallError=!0})},getMovieGenresAndMovies:function(){var e=this;ee.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=386f3833fc837a1939fab52920de1c25&language=en-GB").then(function(t){var r=t.data.genres,n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;e.movieGenres[l.id]=l.name}}catch(c){i=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}e.getPopularMovies()}).catch(function(){e.hasApiCallError=!0})},getIsDarkValue:function(e){this.isDarkTheme=e},getPickedTheme:function(e){var t=e.replace(/\s+/g,"");this.pickedTheme=t.toLowerCase()}}},ne=re,ie=(r("5c0b"),Object(l["a"])(ne,i,a,!1,null,null,null)),ae=ie.exports,oe=r("9483");Object(oe["a"])("".concat("/movieListing/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("507a");n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(ae)}}).$mount("#movieListingApp")},"5c0b":function(e,t,r){"use strict";var n=r("8fba"),i=r.n(n);i.a},"5d4f":function(e,t,r){},"6f89":function(e,t,r){},"729d":function(e,t,r){},"759a":function(e,t,r){},8725:function(e,t,r){},"8b8b":function(e,t,r){},"8fba":function(e,t,r){},a39f:function(e,t,r){},ae69:function(e,t,r){"use strict";var n=r("729d"),i=r.n(n);i.a},d7b0:function(e,t,r){"use strict";var n=r("759a"),i=r.n(n);i.a},f2e0:function(e,t,r){"use strict";var n=r("a39f"),i=r.n(n);i.a},f5c5:function(e,t,r){"use strict";var n=r("8725"),i=r.n(n);i.a},fdf5:function(e,t,r){"use strict";var n=r("5d4f"),i=r.n(n);i.a}});
//# sourceMappingURL=app.322b03c6.js.map